{
    "manifests": {
        "shopware/core": {
            "manifest": {
                "copy-from-recipe": {
                    "bin/": "%BIN_DIR%/",
                    "config/": "%CONFIG_DIR%/",
                    "custom/": "custom/",
                    "public/": "%PUBLIC_DIR%/",
                    "var/": "var/",
                    "src/": "src/",
                    "root/": ""
                },
                "bundles": {
                    "Shopware\\Core\\Framework\\Framework": [
                        "all"
                    ],
                    "Shopware\\Core\\System\\System": [
                        "all"
                    ],
                    "Shopware\\Core\\Content\\Content": [
                        "all"
                    ],
                    "Shopware\\Core\\Checkout\\Checkout": [
                        "all"
                    ],
                    "Shopware\\Core\\Maintenance\\Maintenance": [
                        "all"
                    ]
                },
                "env": {
                    "APP_ENV": "prod",
                    "APP_URL": "http://localhost",
                    "APP_SECRET": "%generate(secret)%",
                    "INSTANCE_ID": "%generate(secret)%",
                    "BLUE_GREEN_DEPLOYMENT": "0",
                    "MAILER_URL": "null://localhost",
                    "DATABASE_URL": "mysql://root:root@localhost/shopware"
                },
                "gitignore": [
                    "custom/*",
                    "!custom/plugins/.gitkeep",
                    "!custom/static-plugins/",
                    "/public/fonts/*",
                    "!/public/fonts/.gitkeep",
                    "/public/img/*",
                    "!/public/img/.gitkeep",
                    "/public/css/*",
                    "!/public/css/.gitkeep",
                    "/public/js/*",
                    "!/public/js/.gitkeep",
                    "/public/media/*",
                    "!/public/media/.gitkeep",
                    "/public/theme/*",
                    "!/public/theme/.gitkeep",
                    "/public/thumbnail/*",
                    "!/public/thumbnail/.gitkeep",
                    "/public/assets/*",
                    "/public/sitemap/*",
                    "!/public/sitemap/.gitkeep",
                    "/public/bundles/*",
                    "!/public/bundles/.gitkeep",
                    "/files/*",
                    "/var/*",
                    "!/var/log/.gitkeep",
                    "!/var/cache/.gitkeep",
                    "/auth.json"
                ],
                "composer-scripts": {
                    "pre-install-cmd": [
                        "[ ! -f vendor/autoload.php ] || $PHP_BINARY bin/console system:update:prepare"
                    ],
                    "pre-update-cmd": [
                        "[ ! -f vendor/autoload.php ] || $PHP_BINARY bin/console system:update:prepare"
                    ],
                    "post-install-cmd": [
                        "@composer install --working-dir vendor/shopware/recovery --no-interaction --no-scripts",
                        "@composer install --working-dir=vendor/shopware/recovery/Common --no-interaction --optimize-autoloader --no-suggest",
                        "[ ! -f vendor/autoload.php ] || $PHP_BINARY bin/console system:update:finish"
                    ],
                    "post-update-cmd": [
                        "@composer install --working-dir vendor/shopware/recovery --no-interaction --no-scripts",
                        "@composer install --working-dir=vendor/shopware/recovery/Common --no-interaction --optimize-autoloader --no-suggest",
                        "[ ! -f vendor/autoload.php ] || $PHP_BINARY bin/console system:update:finish"
                    ]
                }
            },
            "files": {
                "bin/.htaccess": {
                    "contents": [
                        "<Files ~ \".*\">",
                        "    # Deny all requests from Apache 2.4+.",
                        "    <IfModule mod_authz_core.c>",
                        "          Require all denied",
                        "    </IfModule>",
                        "",
                        "    # Deny all requests from Apache 2.0-2.2.",
                        "    <IfModule !mod_authz_core.c>",
                        "        Deny from all",
                        "    </IfModule>",
                        "</Files>",
                        ""
                    ],
                    "executable": false
                },
                "bin/build-js.sh": {
                    "contents": [
                        "#!/usr/bin/env bash",
                        "",
                        "BIN_DIR=\"$(cd -P -- \"$(dirname -- \"${BASH_SOURCE[0]}\")\" && pwd -P)\"",
                        "",
                        "set -euo pipefail",
                        "",
                        "",
                        "if [[ -e \"${BIN_DIR}/build-administration.sh\" ]]; then",
                        "  \"${BIN_DIR}/build-administration.sh\"",
                        "fi",
                        "",
                        "if [[ -e \"${BIN_DIR}/build-storefront.sh\" ]]; then",
                        "  \"${BIN_DIR}/build-storefront.sh\"",
                        "fi"
                    ],
                    "executable": true
                },
                "bin/build.sh": {
                    "contents": [
                        "#!/usr/bin/env bash",
                        "",
                        "set -e",
                        "set -x",
                        "",
                        "BIN_DIR=\"$(cd -P -- \"$(dirname -- \"${BASH_SOURCE[0]}\")\" && pwd -P)\"",
                        "export PROJECT_ROOT=\"${PROJECT_ROOT:-\"$(dirname \"$BIN_DIR\")\"}\"",
                        "",
                        "composer install -d \"${PROJECT_ROOT}\" --no-interaction --optimize-autoloader --no-suggest",
                        "",
                        "if [[ -e \"${PROJECT_ROOT}/vendor/shopware/recovery\" ]]; then",
                        "    composer install -d \"${PROJECT_ROOT}\"/vendor/shopware/recovery --no-interaction --optimize-autoloader --no-suggest",
                        "fi",
                        "",
                        "\"${BIN_DIR}/build-js.sh\"",
                        "",
                        "set +x",
                        ""
                    ],
                    "executable": true
                },
                "bin/ci": {
                    "contents": [
                        "#!/usr/bin/env php",
                        "<?php declare(strict_types=1);",
                        "",
                        "use Composer\\InstalledVersions;",
                        "use Shopware\\Core\\DevOps\\Environment\\EnvironmentHelper;",
                        "use Shopware\\Core\\Framework\\Plugin\\KernelPluginLoader\\ComposerPluginLoader;",
                        "use Shopware\\Core\\Framework\\Plugin\\KernelPluginLoader\\DbalKernelPluginLoader;",
                        "use Shopware\\Core\\Framework\\Plugin\\KernelPluginLoader\\StaticKernelPluginLoader;",
                        "use Shopware\\Production\\HttpKernel;",
                        "use Shopware\\Production\\Kernel;",
                        "use Symfony\\Bundle\\FrameworkBundle\\Console\\Application;",
                        "use Symfony\\Component\\Console\\Input\\ArgvInput;",
                        "use Symfony\\Component\\Dotenv\\Dotenv;",
                        "use Symfony\\Component\\ErrorHandler\\Debug;",
                        "",
                        "set_time_limit(0);",
                        "",
                        "$classLoader = require __DIR__ . '/../vendor/autoload.php';",
                        "",
                        "$projectRoot = dirname(__DIR__);",
                        "if (class_exists(Dotenv::class) && (file_exists($projectRoot . '/.env.local.php') || file_exists($projectRoot . '/.env') || file_exists($projectRoot . '/.env.dist'))) {",
                        "    (new Dotenv())->usePutenv()->bootEnv(dirname(__DIR__) . '/.env');",
                        "}",
                        "",
                        "if (!EnvironmentHelper::hasVariable('PROJECT_ROOT')) {",
                        "    $_SERVER['PROJECT_ROOT'] = $projectRoot;",
                        "}",
                        "",
                        "$input = new ArgvInput();",
                        "$env = $input->getParameterOption(['--env', '-e'], $_SERVER['APP_ENV'] ?? 'prod', true);",
                        "$debug = ($_SERVER['APP_DEBUG'] ?? ($env !== 'prod')) && !$input->hasParameterOption('--no-debug', true);",
                        "",
                        "$pluginLoader = new StaticKernelPluginLoader($classLoader, null);",
                        "",
                        "$databaseUrl = (string) EnvironmentHelper::getVariable('DATABASE_URL', getenv('DATABASE_URL'));",
                        "if (trim($databaseUrl) === '') {",
                        "    // fake DATABASE_URL",
                        "    $_SERVER['DATABASE_URL'] = Kernel::PLACEHOLDER_DATABASE_URL;",
                        "",
                        "    if (\\class_exists(ComposerPluginLoader::class) && method_exists(InstalledVersions::class, 'getInstalledPackagesByType')) {",
                        "        $pluginLoader = new ComposerPluginLoader($classLoader, null);",
                        "    }",
                        "} else {",
                        "    if (!EnvironmentHelper::hasVariable('INSTALL')) {",
                        "        $pluginLoader = new DbalKernelPluginLoader($classLoader, null, \\Shopware\\Core\\Kernel::getConnection());",
                        "    }",
                        "}",
                        "",
                        "if ($debug) {",
                        "    umask(0000);",
                        "    if (class_exists(Debug::class)) {",
                        "        Debug::enable();",
                        "    }",
                        "}",
                        "",
                        "$kernel = new HttpKernel($env, $debug, $classLoader);",
                        "$kernel->setPluginLoader($pluginLoader);",
                        "$application = new Application($kernel->getKernel());",
                        "$application->run($input);",
                        ""
                    ],
                    "executable": true
                },
                "bin/console": {
                    "contents": [
                        "#!/usr/bin/env php",
                        "<?php declare(strict_types=1);",
                        "",
                        "use Composer\\InstalledVersions;",
                        "use Shopware\\Core\\DevOps\\Environment\\EnvironmentHelper;",
                        "use Shopware\\Core\\Framework\\Plugin\\KernelPluginLoader\\DbalKernelPluginLoader;",
                        "use Shopware\\Core\\Framework\\Plugin\\KernelPluginLoader\\StaticKernelPluginLoader;",
                        "use Shopware\\Production\\HttpKernel;",
                        "use Shopware\\Production\\Kernel;",
                        "use Symfony\\Bundle\\FrameworkBundle\\Console\\Application;",
                        "use Symfony\\Component\\Console\\Input\\ArgvInput;",
                        "use Symfony\\Component\\Dotenv\\Dotenv;",
                        "use Symfony\\Component\\ErrorHandler\\Debug;",
                        "",
                        "if (\\PHP_VERSION_ID < 70403) {",
                        "    echo 'Your cli is running PHP version ' . \\PHP_VERSION . ' but Shopware 6 requires at least PHP 7.4.3' . \\PHP_EOL;",
                        "    exit(1);",
                        "}",
                        "",
                        "set_time_limit(0);",
                        "",
                        "$classLoader = require __DIR__ . '/../vendor/autoload.php';",
                        "",
                        "if (!class_exists(Application::class)) {",
                        "    throw new RuntimeException('You need to add \"symfony/framework-bundle\" as a Composer dependency.');",
                        "}",
                        "",
                        "$projectRoot = dirname(__DIR__);",
                        "if (class_exists(Dotenv::class) && (file_exists($projectRoot . '/.env.local.php') || file_exists($projectRoot . '/.env') || file_exists($projectRoot . '/.env.dist'))) {",
                        "    (new Dotenv())->usePutenv()->bootEnv(dirname(__DIR__) . '/.env');",
                        "}",
                        "",
                        "if (!EnvironmentHelper::hasVariable('PROJECT_ROOT')) {",
                        "    $_SERVER['PROJECT_ROOT'] = $projectRoot;",
                        "}",
                        "",
                        "$input = new ArgvInput();",
                        "$env = $input->getParameterOption(['--env', '-e'], $_SERVER['APP_ENV'] ?? 'prod', true);",
                        "$debug = ($_SERVER['APP_DEBUG'] ?? ($env !== 'prod')) && !$input->hasParameterOption('--no-debug', true);",
                        "",
                        "if ($debug) {",
                        "    umask(0000);",
                        "",
                        "    if (class_exists(Debug::class)) {",
                        "        Debug::enable();",
                        "    }",
                        "}",
                        "",
                        "$pluginLoader = new StaticKernelPluginLoader($classLoader, null);",
                        "",
                        "$shopwareVersion = InstalledVersions::getVersion('shopware/core') . '@' . InstalledVersions::getReference('shopware/core');",
                        "",
                        "if ($input->getFirstArgument() === 'system:install') {",
                        "    $_SERVER['INSTALL'] = true;",
                        "}",
                        "",
                        "$databaseUrl = (string) EnvironmentHelper::getVariable('DATABASE_URL', getenv('DATABASE_URL'));",
                        "if (trim($databaseUrl) === '') {",
                        "    // fake DATABASE_URL",
                        "    $_SERVER['DATABASE_URL'] = Kernel::PLACEHOLDER_DATABASE_URL;",
                        "} else {",
                        "    if (!EnvironmentHelper::hasVariable('INSTALL')) {",
                        "        $pluginLoader = new DbalKernelPluginLoader($classLoader, null, \\Shopware\\Core\\Kernel::getConnection());",
                        "    }",
                        "}",
                        "if ($_SERVER['COMPOSER_PLUGIN_LOADER'] ?? $_SERVER['DISABLE_EXTENSIONS'] ?? false) {",
                        "    $pluginLoader = new ComposerPluginLoader($classLoader);",
                        "}",
                        "",
                        "$kernel = new HttpKernel($env, $debug, $classLoader);",
                        "$kernel->setPluginLoader($pluginLoader);",
                        "",
                        "$application = new Application($kernel->getKernel());",
                        "$application->run($input);",
                        ""
                    ],
                    "executable": true
                },
                "config/jwt/.gitkeep": {
                    "contents": [
                        ""
                    ],
                    "executable": false
                },
                "config/packages/shopware.yml": {
                    "contents": [
                        "shopware:",
                        "  auto_update:",
                        "    enabled: false # Disables the auto updater in the UI",
                        "  admin_worker:",
                        "    enable_admin_worker: true # The Admin worker should be disabled on production server."
                    ],
                    "executable": false
                },
                "config/services.xml": {
                    "contents": [
                        "<?xml version=\"1.0\" encoding=\"UTF-8\" ?>",
                        "<container xmlns=\"http://symfony.com/schema/dic/services\"",
                        "           xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"",
                        "           xsi:schemaLocation=\"http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd\">",
                        "",
                        "    <imports>",
                        "        <import resource=\"services/defaults.xml\" />",
                        "    </imports>",
                        "</container>",
                        ""
                    ],
                    "executable": false
                },
                "config/services/defaults.xml": {
                    "contents": [
                        "<?xml version=\"1.0\" encoding=\"UTF-8\" ?>",
                        "<container xmlns=\"http://symfony.com/schema/dic/services\"",
                        "           xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"",
                        "           xsi:schemaLocation=\"http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd\">",
                        "",
                        "    <parameters>",
                        "        <parameter key=\"jwt_private_key_passphrase_default\">shopware</parameter>",
                        "",
                        "        <parameter key=\"default_whitespace\"> </parameter>",
                        "        <parameter key=\"default_elasticsearch_prefix\">sw</parameter>",
                        "",
                        "        <parameter key=\"elasticsearch.enabled\">%env(bool:default:default_whitespace:SHOPWARE_ES_ENABLED)%</parameter>",
                        "        <parameter key=\"elasticsearch.indexing_enabled\">%env(bool:default:default_whitespace:SHOPWARE_ES_INDEXING_ENABLED)%</parameter>",
                        "        <parameter key=\"elasticsearch.hosts\">%env(string:default:default_whitespace:SHOPWARE_ES_HOSTS)%</parameter>",
                        "        <parameter key=\"elasticsearch.index_prefix\">%env(string:default:default_elasticsearch_prefix:SHOPWARE_ES_INDEX_PREFIX)%</parameter>",
                        "",
                        "        <parameter key=\"shopware.store.frw\">true</parameter>",
                        "",
                        "        <parameter key=\"default_cdn_strategy\">physical_filename</parameter>",
                        "        <parameter key=\"shopware.cdn.strategy\">%env(default:default_cdn_strategy:SHOPWARE_CDN_STRATEGY_DEFAULT)%</parameter>",
                        "        <parameter key=\"env(INSTANCE_ID)\">install</parameter>",
                        "    </parameters>",
                        "",
                        "    <services>",
                        "        <service class=\"League\\OAuth2\\Server\\CryptKey\" id=\"shopware.private_key\">",
                        "            <argument>%kernel.project_dir%/config/jwt/private.pem</argument>",
                        "            <argument>%env(string:default:jwt_private_key_passphrase_default:JWT_PRIVATE_KEY_PASSPHRASE)%</argument>",
                        "        </service>",
                        "",
                        "        <service class=\"League\\OAuth2\\Server\\CryptKey\" id=\"shopware.public_key\">",
                        "            <argument>%kernel.project_dir%/config/jwt/public.pem</argument>",
                        "        </service>",
                        "",
                        "        <service id=\"_dummy_env_usage\" class=\"iterable\" lazy=\"true\">",
                        "            <argument>%env(bool:SHOPWARE_ES_ENABLED)%</argument>",
                        "            <argument>%env(bool:SHOPWARE_ES_INDEXING_ENABLED)%</argument>",
                        "            <argument>%env(SHOPWARE_ES_HOSTS)%</argument>",
                        "            <argument>%env(SHOPWARE_ES_INDEX_PREFIX)%</argument>",
                        "        </service>",
                        "    </services>",
                        "</container>",
                        ""
                    ],
                    "executable": false
                },
                "config/services/defaults_test.xml": {
                    "contents": [
                        "<?xml version=\"1.0\" encoding=\"UTF-8\" ?>",
                        "<container xmlns=\"http://symfony.com/schema/dic/services\"",
                        "           xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"",
                        "           xsi:schemaLocation=\"http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd\">",
                        "",
                        "    <services>",
                        "        <service class=\"League\\OAuth2\\Server\\CryptKey\" id=\"shopware.private_key\" public=\"true\">",
                        "            <argument>%kernel.project_dir%/var/test/jwt/private.pem</argument>",
                        "            <argument>%env(string:default:jwt_private_key_passphrase_default:JWT_PRIVATE_KEY_PASSPHRASE)%</argument>",
                        "        </service>",
                        "",
                        "        <service class=\"League\\OAuth2\\Server\\CryptKey\" id=\"shopware.public_key\" public=\"true\">",
                        "            <argument>%kernel.project_dir%/var/test/jwt/public.pem</argument>",
                        "        </service>",
                        "    </services>",
                        "</container>",
                        ""
                    ],
                    "executable": false
                },
                "config/services_test.xml": {
                    "contents": [
                        "<?xml version=\"1.0\" encoding=\"UTF-8\" ?>",
                        "<container xmlns=\"http://symfony.com/schema/dic/services\"",
                        "           xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"",
                        "           xsi:schemaLocation=\"http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd\">",
                        "",
                        "    <imports>",
                        "        <import resource=\"services/defaults_test.xml\" />",
                        "    </imports>",
                        "</container>",
                        ""
                    ],
                    "executable": false
                },
                "custom/.htaccess": {
                    "contents": [
                        "<Files ~ \".*\">",
                        "    # Deny all requests from Apache 2.4+.",
                        "    <IfModule mod_authz_core.c>",
                        "          Require all denied",
                        "    </IfModule>",
                        "",
                        "    # Deny all requests from Apache 2.0-2.2.",
                        "    <IfModule !mod_authz_core.c>",
                        "        Deny from all",
                        "    </IfModule>",
                        "</Files>",
                        ""
                    ],
                    "executable": false
                },
                "custom/apps/.gitkeep": {
                    "contents": [
                        ""
                    ],
                    "executable": false
                },
                "custom/plugins/.gitkeep": {
                    "contents": [
                        ""
                    ],
                    "executable": false
                },
                "custom/static-plugins/.gitkeep": {
                    "contents": [
                        ""
                    ],
                    "executable": false
                },
                "files/.htaccess": {
                    "contents": [
                        "<Files ~ \".*\">",
                        "    # Deny all requests from Apache 2.4+.",
                        "    <IfModule mod_authz_core.c>",
                        "          Require all denied",
                        "    </IfModule>",
                        "",
                        "    # Deny all requests from Apache 2.0-2.2.",
                        "    <IfModule !mod_authz_core.c>",
                        "        Deny from all",
                        "    </IfModule>",
                        "</Files>",
                        ""
                    ],
                    "executable": false
                },
                "public/.htaccess.dist": {
                    "contents": [
                        "# BEGIN Shopware",
                        "# The directives (lines) between \"# BEGIN Shopware\" and \"# END Shopware\" are dynamically generated. Any changes to the directives between these markers will be overwritten.",
                        "",
                        "DirectoryIndex index.php",
                        "",
                        "<IfModule mod_negotiation.c>",
                        "    Options -MultiViews",
                        "</IfModule>",
                        "",
                        "<IfModule mod_rewrite.c>",
                        "    RewriteEngine On",
                        "",
                        "    RewriteCond %{REQUEST_URI}::$1 ^(/.+)/(.*)::\\2$",
                        "    RewriteRule ^(.*) - [E=BASE:%1]",
                        "",
                        "    # Sets the HTTP_AUTHORIZATION header removed by Apache",
                        "    RewriteCond %{HTTP:Authorization} .",
                        "    RewriteRule ^ - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]",
                        "",
                        "    RewriteCond %{ENV:REDIRECT_STATUS} ^$",
                        "    RewriteRule ^index\\.php(?:/(.*)|$) %{ENV:BASE}/$1 [R=301,L]",
                        "",
                        "    # If the requested filename exists, simply serve it.",
                        "    # We only want to let Apache serve files and not directories.",
                        "    RewriteCond %{REQUEST_FILENAME} -f",
                        "    RewriteRule ^ - [L]",
                        "",
                        "    # Rewrite all other queries to the front controller.",
                        "    RewriteRule ^ %{ENV:BASE}/index.php [L]",
                        "</IfModule>",
                        "",
                        "<IfModule !mod_rewrite.c>",
                        "    <IfModule mod_alias.c>",
                        "        RedirectMatch 302 ^/$ /index.php/",
                        "    </IfModule>",
                        "</IfModule>",
                        "",
                        "<IfModule mod_headers.c>",
                        "    <FilesMatch \"\\.(?i:svg)$\">",
                        "        Header set Content-Security-Policy \"script-src 'none'\"",
                        "    </FilesMatch>",
                        "</IfModule>",
                        "",
                        "# END Shopware",
                        ""
                    ],
                    "executable": false
                },
                "public/bundles/.gitkeep": {
                    "contents": [
                        ""
                    ],
                    "executable": false
                },
                "public/css/.gitkeep": {
                    "contents": [
                        ""
                    ],
                    "executable": false
                },
                "public/fonts/.gitkeep": {
                    "contents": [
                        ""
                    ],
                    "executable": false
                },
                "public/index.php": {
                    "contents": [
                        "<?php declare(strict_types=1);",
                        "",
                        "use Shopware\\Production\\HttpKernel;",
                        "use Symfony\\Component\\Dotenv\\Dotenv;",
                        "use Symfony\\Component\\ErrorHandler\\Debug;",
                        "use Symfony\\Component\\HttpFoundation\\Request;",
                        "",
                        "if (\\PHP_VERSION_ID < 70400) {",
                        "    header('Content-type: text/html; charset=utf-8', true, 503);",
                        "",
                        "    echo '<h2>Error</h2>';",
                        "    echo 'Your server is running PHP version ' . \\PHP_VERSION . ' but Shopware 6 requires at least PHP 7.4.0';",
                        "    exit(1);",
                        "}",
                        "",
                        "$classLoader = require __DIR__ . '/../vendor/autoload.php';",
                        "",
                        "if (!file_exists(dirname(__DIR__) . '/install.lock')) {",
                        "    $basePath = 'recovery/install';",
                        "    $baseURL = str_replace(basename(__FILE__), '', $_SERVER['SCRIPT_NAME']);",
                        "    $baseURL = rtrim($baseURL, '/');",
                        "    $installerURL = $baseURL . '/' . $basePath . '/index.php';",
                        "    if (strpos($_SERVER['REQUEST_URI'], $basePath) === false) {",
                        "        header('Location: ' . $installerURL);",
                        "        exit;",
                        "    }",
                        "}",
                        "",
                        "if (is_file(dirname(__DIR__) . '/files/update/update.json') || is_dir(dirname(__DIR__) . '/update-assets')) {",
                        "    header('Content-type: text/html; charset=utf-8', true, 503);",
                        "    header('Status: 503 Service Temporarily Unavailable');",
                        "    header('Retry-After: 1200');",
                        "    if (file_exists(__DIR__ . '/maintenance.html')) {",
                        "        readfile(__DIR__ . '/maintenance.html');",
                        "    } else {",
                        "        readfile(__DIR__ . '/recovery/update/maintenance.html');",
                        "    }",
                        "",
                        "    return;",
                        "}",
                        "",
                        "// The check is to ensure we don't use .env if APP_ENV is defined",
                        "if (class_exists(Dotenv::class)) {",
                        "    (new Dotenv())->usePutenv()->bootEnv(dirname(__DIR__) . '/.env');",
                        "} elseif (!isset($_SERVER['APP_ENV']) && !isset($_ENV['APP_ENV'])) {",
                        "    throw new \\RuntimeException('APP_ENV environment variable is not defined. You need to define environment variables for configuration or add \"symfony/dotenv\" as a Composer dependency to load variables from a .env file.');",
                        "}",
                        "",
                        "$appEnv = $_SERVER['APP_ENV'] ?? $_ENV['APP_ENV'] ?? 'dev';",
                        "$debug = (bool) ($_SERVER['APP_DEBUG'] ?? $_ENV['APP_DEBUG'] ?? ($appEnv !== 'prod'));",
                        "",
                        "if ($debug) {",
                        "    umask(0000);",
                        "",
                        "    Debug::enable();",
                        "}",
                        "",
                        "$trustedProxies = $_SERVER['TRUSTED_PROXIES'] ?? $_ENV['TRUSTED_PROXIES'] ?? false;",
                        "if ($trustedProxies) {",
                        "    Request::setTrustedProxies(explode(',', $trustedProxies), Request::HEADER_X_FORWARDED_FOR | Request::HEADER_X_FORWARDED_PORT | Request::HEADER_X_FORWARDED_PROTO);",
                        "}",
                        "",
                        "$trustedHosts = $_SERVER['TRUSTED_HOSTS'] ?? $_ENV['TRUSTED_HOSTS'] ?? false;",
                        "if ($trustedHosts) {",
                        "    Request::setTrustedHosts(explode(',', $trustedHosts));",
                        "}",
                        "",
                        "$request = Request::createFromGlobals();",
                        "",
                        "$kernel = new HttpKernel($appEnv, $debug, $classLoader);",
                        "if ($_SERVER['COMPOSER_PLUGIN_LOADER'] ?? $_SERVER['DISABLE_EXTENSIONS'] ?? false) {",
                        "    $kernel->setPluginLoader(new \\Shopware\\Core\\Framework\\Plugin\\KernelPluginLoader\\ComposerPluginLoader($classLoader));",
                        "}",
                        "",
                        "$result = $kernel->handle($request);",
                        "",
                        "$result->getResponse()->send();",
                        "",
                        "$kernel->terminate($result->getRequest(), $result->getResponse());",
                        ""
                    ],
                    "executable": false
                },
                "public/js/.gitkeep": {
                    "contents": [
                        ""
                    ],
                    "executable": false
                },
                "public/maintenance.html": {
                    "contents": [
                        "<!DOCTYPE html>",
                        "<html>",
                        "<head>",
                        "    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />",
                        "    <title>Wartungsmodus</title>",
                        "",
                        "    <style>",
                        "        article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}audio,canvas,video{display:inline-block}audio:not([controls]){display:none;height:0}[hidden]{display:none}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}a:focus{outline:thin dotted}a:active,a:hover{outline:0}h1{font-size:2em;margin:.67em 0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}mark{background:#ff0;color:#000}code,kbd,pre,samp{font:1em monospace,serif}pre{white-space:pre-wrap}q{quotes:\"\\201C\" \"\\201D\" \"\\2018\" \"\\2019\"}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:0}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}button,input{line-height:normal}button,select{text-transform:none}button,html input[type=\"button\"],input[type=\"reset\"],input[type=\"submit\"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}input[type=\"checkbox\"],input[type=\"radio\"]{box-sizing:border-box;padding:0}input[type=\"search\"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input[type=\"search\"]::-webkit-search-cancel-button,input[type=\"search\"]::-webkit-search-decoration{-webkit-appearance:none}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}textarea{overflow:auto;vertical-align:top}table{border-collapse:collapse;border-spacing:0}",
                        "",
                        "        body, html { min-height: 100%; background: #e9ebed; }",
                        "        .maintenance-container {",
                        "            position: relative;",
                        "            background: #fff;",
                        "            -webkit-border-radius: 3px;",
                        "            -moz-border-radius: 3px;",
                        "            border-radius: 3px;",
                        "            margin: 50px auto;",
                        "            width: 475px;",
                        "            padding: 30px;",
                        "            text-align: center;",
                        "",
                        "            -webkit-box-shadow: 0px 1px 3px rgba(0, 0, 0, .5);",
                        "            -moz-box-shadow: 0px 1px 3px rgba(0, 0, 0, .5);",
                        "            -ms-box-shadow: 0px 1px 3px rgba(0, 0, 0, .5);",
                        "            box-shadow: 0px 1px 3px rgba(0, 0, 0, .5);",
                        "        }",
                        "        .maintenance-headline {",
                        "            font-family: \"HelveticaNeue-Light\", \"Helvetica Neue Light\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif;",
                        "            font-weight: 300;",
                        "            margin: 0 0 .8em;",
                        "        }",
                        "        .maintenance-text { font-size: 13px }",
                        "        .maintenance-progress {",
                        "            border-top: 1px solid #529e52;",
                        "            height: 4px; width: 100%;",
                        "            position: absolute;",
                        "            bottom: 0; left: 0;",
                        "            background-color: #5eb95e;",
                        "            -webkit-background-size: 40px 40px;",
                        "            -moz-background-size: 40px 40px;",
                        "            -o-background-size: 40px 40px;",
                        "            background-size: 40px 40px;",
                        "            -webkit-animation: progress-bar-stripes 2s linear infinite;",
                        "            -moz-animation: progress-bar-stripes 2s linear infinite;",
                        "            -ms-animation: progress-bar-stripes 2s linear infinite;",
                        "            -o-animation: progress-bar-stripes 2s linear infinite;",
                        "            animation: progress-bar-stripes 2s linear infinite;",
                        "            background-color: #62C462;",
                        "            background-image: -webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.25, rgba(255, 255, 255, 0.15)), color-stop(0.25, rgba(0, 0, 0, 0)), color-stop(0.5, rgba(0, 0, 0, 0)), color-stop(0.5, rgba(255, 255, 255, 0.15)), color-stop(0.75, rgba(255, 255, 255, 0.15)), color-stop(0.75, rgba(0, 0, 0, 0)), to(rgba(0, 0, 0, 0)));",
                        "            background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, rgba(0, 0, 0, 0) 25%, rgba(0, 0, 0, 0) 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, rgba(0, 0, 0, 0) 75%, rgba(0, 0, 0, 0));",
                        "            background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, rgba(0, 0, 0, 0) 25%, rgba(0, 0, 0, 0) 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, rgba(0, 0, 0, 0) 75%, rgba(0, 0, 0, 0));",
                        "            background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, rgba(0, 0, 0, 0) 25%, rgba(0, 0, 0, 0) 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, rgba(0, 0, 0, 0) 75%, rgba(0, 0, 0, 0));",
                        "            background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, rgba(0, 0, 0, 0) 25%, rgba(0, 0, 0, 0) 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, rgba(0, 0, 0, 0) 75%, rgba(0, 0, 0, 0));",
                        "        }",
                        "",
                        "        hr {",
                        "            background: transparent url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAHUlEQVR42q3IoREAAACCQHdy/91IFrLcfSGqc5wAdFYCZQo/LFUAAAAASUVORK5CYII=\") repeat-x;",
                        "            border: 0 none;",
                        "            color: #CCC;",
                        "            height: 4px;",
                        "            padding: 0;",
                        "            margin: 30px 0;",
                        "        }",
                        "",
                        "",
                        "        @-webkit-keyframes progress-bar-stripes {",
                        "            from {",
                        "                background-position: 40px 0;",
                        "            }",
                        "            to {",
                        "                background-position: 0 0;",
                        "            }",
                        "        }",
                        "",
                        "        @-moz-keyframes progress-bar-stripes {",
                        "            from {",
                        "                background-position: 40px 0;",
                        "            }",
                        "            to {",
                        "                background-position: 0 0;",
                        "            }",
                        "        }",
                        "",
                        "        @-ms-keyframes progress-bar-stripes {",
                        "            from {",
                        "                background-position: 40px 0;",
                        "            }",
                        "            to {",
                        "                background-position: 0 0;",
                        "            }",
                        "        }",
                        "",
                        "        @-o-keyframes progress-bar-stripes {",
                        "            from {",
                        "                background-position: 0 0;",
                        "            }",
                        "            to {",
                        "                background-position: 40px 0;",
                        "            }",
                        "        }",
                        "",
                        "        @keyframes progress-bar-stripes {",
                        "            from {",
                        "                background-position: 40px 0;",
                        "            }",
                        "            to {",
                        "                background-position: 0 0;",
                        "            }",
                        "        }",
                        "    </style>",
                        "</head>",
                        "<body>",
                        "<div class=\"maintenance-container\">",
                        "    <h1 class=\"maintenance-headline\">Unsere Website befindet sich gerade in der Wartung.</h1>",
                        "",
                        "    <p class=\"maintenance-text\">",
                        "        Wir stehen Ihnen bald wieder zur Verf\u00fcgung. Entschuldigen Sie etwaige Unannehmlichkeiten.",
                        "    </p>",
                        "",
                        "    <hr />",
                        "",
                        "    <h1 class=\"maintenance-headline\">Our website is currently undergoing maintenance.</h1>",
                        "",
                        "    <p class=\"maintenance-text\">",
                        "        We'll be back very soon. Sorry for any inconvenience.",
                        "    </p>",
                        "",
                        "    <div class=\"maintenance-progress\"></div>",
                        "</div>",
                        "</body>",
                        "</html>",
                        ""
                    ],
                    "executable": false
                },
                "public/media/.gitkeep": {
                    "contents": [
                        ""
                    ],
                    "executable": false
                },
                "public/sitemap/.gitkeep": {
                    "contents": [
                        ""
                    ],
                    "executable": false
                },
                "public/theme/.gitkeep": {
                    "contents": [
                        ""
                    ],
                    "executable": false
                },
                "public/thumbnail/.gitkeep": {
                    "contents": [
                        ""
                    ],
                    "executable": false
                },
                "root/.htaccess": {
                    "contents": [
                        "DirectoryIndex index.html index.php",
                        "",
                        "<IfModule mod_negotiation.c>",
                        "    Options -MultiViews",
                        "</IfModule>",
                        "",
                        "<IfModule mod_alias.c>",
                        "    # Restrict access to VCS directories",
                        "    RedirectMatch 404 /\\\\.(svn|git|hg|bzr|cvs)(/|$)",
                        "",
                        "    # Restrict access to root folder files",
                        "    RedirectMatch 404 /(composer\\.(json|lock|phar)|README\\.md|\\.gitignore|.*\\.dist|\\.env.*)$",
                        "</IfModule>",
                        "",
                        ""
                    ],
                    "executable": false
                },
                "src/HttpKernel.php": {
                    "contents": [
                        "<?php declare(strict_types=1);",
                        "",
                        "namespace Shopware\\Production;",
                        "",
                        "class HttpKernel extends \\Shopware\\Core\\HttpKernel",
                        "{",
                        "    protected static $kernelClass = Kernel::class;",
                        "}"
                    ],
                    "executable": false
                },
                "src/Kernel.php": {
                    "contents": [
                        "<?php",
                        "",
                        "declare(strict_types=1);",
                        "",
                        "namespace Shopware\\Production;",
                        "",
                        "use Doctrine\\DBAL\\Connection;",
                        "use Shopware\\Core\\DevOps\\Environment\\EnvironmentHelper;",
                        "use Shopware\\Core\\Framework\\Plugin\\KernelPluginLoader\\KernelPluginLoader;",
                        "use Shopware\\Core\\Profiling\\Doctrine\\DebugStack;",
                        "",
                        "class Kernel extends \\Shopware\\Core\\Kernel",
                        "{",
                        "    public const PLACEHOLDER_DATABASE_URL = 'mysql://_placeholder.test';",
                        "",
                        "    public function __construct(",
                        "        string $environment,",
                        "        bool $debug,",
                        "        KernelPluginLoader $pluginLoader,",
                        "        ?string $cacheId = null,",
                        "        ?string $version = self::SHOPWARE_FALLBACK_VERSION,",
                        "        ?Connection $connection = null",
                        "    ) {",
                        "        $cacheId = $cacheId ?? $environment;",
                        "        parent::__construct($environment, $debug, $pluginLoader, $cacheId, $version, $connection);",
                        "    }",
                        "",
                        "    protected function initializeDatabaseConnectionVariables(): void",
                        "    {",
                        "        $url = EnvironmentHelper::getVariable('DATABASE_URL', getenv('DATABASE_URL'));",
                        "",
                        "        if (EnvironmentHelper::hasVariable('INSTALL') || $url === self::PLACEHOLDER_DATABASE_URL) {",
                        "            return;",
                        "        }",
                        "",
                        "        if ($this->getEnvironment() === 'dev') {",
                        "            self::getConnection()->getConfiguration()->setSQLLogger(new DebugStack());",
                        "        }",
                        "",
                        "        $reflection = new \\ReflectionMethod(\\Shopware\\Core\\Kernel::class, 'initializeDatabaseConnectionVariables');",
                        "        if (!$reflection->isPrivate()) {",
                        "            parent::initializeDatabaseConnectionVariables();",
                        "        }",
                        "    }",
                        "}"
                    ],
                    "executable": false
                },
                "src/TestBootstrap.php": {
                    "contents": [
                        "<?php declare(strict_types=1);",
                        "",
                        "use Shopware\\Core\\Framework\\Test\\TestCaseBase\\KernelLifecycleManager;",
                        "use Symfony\\Component\\Dotenv\\Dotenv;",
                        "",
                        "$_ENV['PROJECT_ROOT'] = $_SERVER['PROJECT_ROOT'] = $_SERVER['PROJECT_ROOT'] ?? dirname(__DIR__);",
                        "define('TEST_PROJECT_DIR', $_SERVER['PROJECT_ROOT']);",
                        "",
                        "$testEnv = [",
                        "    'APP_ENV' => 'test',",
                        "    'APP_DEBUG' => 1,",
                        "    'APP_SECRET' => 's$cretf0rt3st',",
                        "    'KERNEL_CLASS' => \\Shopware\\Production\\Kernel::class,",
                        "    'SHOPWARE_ES_ENABLED' => '',",
                        "    'BLUE_GREEN_DEPLOYMENT' => 1,",
                        "    'SHOPWARE_ES_INDEXING_ENABLED' => '',",
                        "    'JWT_PRIVATE_KEY_PASSPHRASE' => 'shopware',",
                        "    'VERSION' => $_SERVER['VERSION'] ?? $_SERVER['BUILD_VERSION'] ?? 'v6.1.0',",
                        "];",
                        "",
                        "foreach ($testEnv as $key => $value) {",
                        "    $_ENV[$key] = $_SERVER[$key] = $value;",
                        "}",
                        "",
                        "$jwtDir = TEST_PROJECT_DIR . '/var/test/jwt';",
                        "",
                        "if (!file_exists($jwtDir) && !mkdir($jwtDir, 0770, true) && !is_dir($jwtDir)) {",
                        "    throw new \\RuntimeException(sprintf('Directory \"%s\" was not created', $jwtDir));",
                        "}",
                        "",
                        "// generate jwt pk",
                        "$key = openssl_pkey_new([",
                        "    'digest_alg' => 'aes256',",
                        "    'private_key_type' => \\OPENSSL_KEYTYPE_RSA,",
                        "    'encrypt_key_cipher' => \\OPENSSL_CIPHER_AES_256_CBC,",
                        "    'encrypt_key' => $_SERVER['JWT_PRIVATE_KEY_PASSPHRASE'],",
                        "]);",
                        "",
                        "// export private key",
                        "$result = openssl_pkey_export_to_file($key, $jwtDir . '/private.pem');",
                        "if ($result === false) {",
                        "    throw new RuntimeException('Could not export private key to file');",
                        "}",
                        "",
                        "// export public key",
                        "$keyData = openssl_pkey_get_details($key);",
                        "file_put_contents($jwtDir . '/public.pem', $keyData['key']);",
                        "",
                        "chmod($jwtDir . '/private.pem', 0660);",
                        "chmod($jwtDir . '/public.pem', 0660);",
                        "",
                        "$loader = require TEST_PROJECT_DIR . '/vendor/autoload.php';",
                        "",
                        "KernelLifecycleManager::prepare($loader);",
                        "",
                        "if (file_exists(TEST_PROJECT_DIR . '/.env.test')) {",
                        "    if (!class_exists(Dotenv::class)) {",
                        "        throw new RuntimeException('APP_ENV environment variable is not defined. You need to define environment variables for configuration or add \"symfony/dotenv\" as a Composer dependency to load variables from a .env.test file.');",
                        "    }",
                        "    (new Dotenv())",
                        "        ->usePutenv(true)",
                        "        ->load(TEST_PROJECT_DIR . '/.env.test');",
                        "}"
                    ],
                    "executable": false
                },
                "var/.htaccess": {
                    "contents": [
                        "<Files ~ \".*\">",
                        "    # Deny all requests from Apache 2.4+.",
                        "    <IfModule mod_authz_core.c>",
                        "          Require all denied",
                        "    </IfModule>",
                        "",
                        "    # Deny all requests from Apache 2.0-2.2.",
                        "    <IfModule !mod_authz_core.c>",
                        "        Deny from all",
                        "    </IfModule>",
                        "</Files>",
                        ""
                    ],
                    "executable": false
                },
                "var/cache/.gitkeep": {
                    "contents": [
                        ""
                    ],
                    "executable": false
                },
                "var/log/.gitkeep": {
                    "contents": [
                        ""
                    ],
                    "executable": false
                }
            },
            "ref": "aaebf61355c36c8abfa8947b3dfebbca7acc630d"
        }
    }
}
